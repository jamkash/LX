<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>翻牌</title>
		<style type="text/css">
			#zhong,#IMG{
				width: 860px;
				perspective:1000px;
				position: absolute;
			}
			img{
				backface-visibility: hidden;
			}
			.one{
				animation: one 0.5s ease-in forwards;
				transform:rotateY(-180deg)
			}
			.two{
				animation: two 0.5s ease-out forwards;
				transform:rotateY(0deg)
			}
			@keyframes one{
				from{transform:rotateY(-180deg)}
				to{transform:rotateY(0deg)}
			}
			
			@keyframes two{
				from{transform:rotateY(0deg)}
				to{transform:rotateY(180deg)}
			}
		</style>
	</head>
	<body>
		<div id="zhong"></div>
		<div id="IMG"></div>
	</body>
	<script type="text/javascript">
		   var dic = document.getElementById('IMG');
		   var zhong = document.getElementById('zhong');
		   var Img = dic.getElementsByTagName('img');
		   var ppp = zhong.getElementsByTagName('img');
		   var istrue = true;
		   var count = 0;
		   //填充图片
		   function showout(){
			   for(var i = 0; i < 6; i++){
				   dic.innerHTML+= '<img src="./images/Parent_child_Handbook/btn1.png" alt="" class="">'
				   zhong.innerHTML+='<img src="./images/Parent_child_Handbook/btn'+(i+2)+'.png" alt="" class="">'
			   }
		   }
		   showout()
		   //实现翻转
		   function change(a,b){
			   for(var i = 0 ;i < ppp.length ;i++){
				   Img[i].className = '';
				   ppp[i].className = '';
			   }
			   if(istrue){
				   Img[a].className = 'two';
				   ppp[b].className = 'one';
			   }else{
				   Img[a].className = 'one';
				   ppp[b].className = 'two';
				   istrue = true
			   }
			  
		   }
		   //事件触发
		   dic.onclick = function(item){
			   for(var i = 0; i<Img.length;i++){
			   		Img[i].index = i
			   }
			   if(item.target.nodeName == 'IMG'){//这里的item.target是img
				   count = item.target.index
				   change(item.target.index,item.target.index)
			   }else{//这里的item.target是div
				   istrue = false;
				   change(count,count)
			   }
			   //两种获取节点索引的方法
			   // var lists = Array.from(Img)
			   // console.log(lists.indexOf(item.target))
			   
			   // for(var i = 0; i<Img.length;i++){
			   //		Img[i].index = i
			   //}
			   //e.target.index  e是item
		   }
		  
	</script>
</html>
